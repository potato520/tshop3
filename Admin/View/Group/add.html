	<include file="Tpl:head_main" />	

	<!-- 上传图片插件开始 -->	

	<!--[if !IE]>	
	-->
	<script type="text/javascript">
			window.jQuery || document.write("<script src='__PUBLIC__/Admin/Ace/assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");</script>

	<!-- <![endif]-->	

	<!--[if IE]>	
	<script type="text/javascript">
 window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");</script>
	<![endif]-->	

	<script type="text/javascript">
			if("ontouchend" in document) document.write("<script src='__PUBLIC__/Admin/Ace/assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");</script>

	<script src="__PUBLIC__/Admin/Ace/assets/js/bootstrap.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/typeahead-bs2.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/jquery-ui-1.10.3.custom.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/jquery.ui.touch-punch.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/chosen.jquery.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/fuelux/fuelux.spinner.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/date-time/bootstrap-datepicker.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/date-time/bootstrap-timepicker.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/date-time/moment.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/date-time/daterangepicker.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/bootstrap-colorpicker.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/jquery.knob.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/jquery.autosize.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/jquery.inputlimiter.1.3.1.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/jquery.maskedinput.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/bootstrap-tag.min.js"></script>

	<!-- ace scripts -->	

	<script src="__PUBLIC__/Admin/Ace/assets/js/ace-elements.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/assets/js/ace.min.js"></script>
	<script src="__PUBLIC__/Admin/Ace/mustache\app\views\assets\scripts\form-elements.js"></script>

	<!-- 上传图片插件结束 -->	

	<div class="page-content">
	<div class="row">
	<div class="col-xs-12">

	<div class="widget-main no-padding">
		<!-- PAGE CONTENT BEGINS -->	
		<form action="__CONTROLLER__/add" enctype="multipart/form-data"  method="post" class="form-horizontal" role="form" id="form" name="form">

			<div class="form-group">
				<label class="col-sm-1 control-label no-padding-right" for="form-field-1">用户组名</label>

				<div class="col-sm-7">
					<input type="text"  id="title" placeholder="用户组名" class="col-xs-10 col-sm-5" name="title" />	
					<span class="help-inline col-xs-12 col-sm-7">
						<span class="middle">用户组名称，不能为空。</span>
					</span>
				</div>
			</div>

			<div class="form-group">
				<label class="col-sm-1 control-label no-padding-right" for="form-field-2">是否启用</label>
				<div class="control-label no-padding-left col-sm-1">
					<label>
						<input name="status" id="status" checked="checked" class="ace ace-switch ace-switch-2" type="checkbox" />	
						<span class="lbl"></span>
					</label>
				</div>
				<span class="help-inline col-xs-12 col-sm-7">
					<span class="middle">YES，启用；NO，禁用</span>
				</span>
			</div>

			<div class="space-4"></div>

			<div class="space-4"></div>
			<div class="form-group">
				<label class="col-sm-1 control-label no-padding-right" for="form-field-1">权限选择</label>
				<div class="col-sm-9">
					<div class="col-sm-10">
						<volist name="rule" id="v">
							<div class="row">
								<div class="widget-box">
									<div class="widget-header">
										<h4 class="widget-title">
											<label>
												<input name="rules[]" class="ace ace-checkbox-2 father" type="checkbox" value="{$v['id']}"/>	
												<span class="lbl">{$v['title']}</span>
											</label>
										</h4>
										<div class="widget-toolbar">
											<notempty name="v.children">
												<a href="#" data-action="collapse"> <i class="ace-icon fa fa-chevron-up"></i>
												</a>
											</notempty>
										</div>
									</div>
									<notempty name="v.children">
										<div class="widget-body">
											<div class="widget-main row">
												<volist name="v.children" id="vv">
													<label class="col-xs-2" style="width:160px;">
														<input name="rules[]" class="ace ace-checkbox-2 children" type="checkbox" value="{$vv['id']}"/>	
														<span class="lbl">{$vv['title']}</span>
													</label>
													<volist name="vv.children" id="vvv">
														<label class="col-xs-2" style="width:160px;">
															<input name="rules[]" class="ace ace-checkbox-2 children" type="checkbox" value="{$vvv['id']}"/>	
															<span class="lbl">{$vvv['title']}</span>
														</label>
													</volist>
												</volist>
											</div>
										</div>
									</notempty>
								</div>
							</div>
						</volist>
					</div>
				</div>
			</div>

			<div class="clearfix form-actions">
				<div class="col-md-offset-1 col-md-8">
					<button class="btn btn-info" type="button"> <i class="icon-ok bigger-110"></i>
						提交
					</button>
					&nbsp; &nbsp; &nbsp;
					<button class="btn" type="reset">
						<i class="icon-undo bigger-110"></i>
						清空
					</button>
				</div>
			</div>

		</form>
	</div>
	</div>

	</div>

	<!-- 弹出提示 -->
	<script src="__PUBLIC__/Admin/Ace/assets/js/bootbox.min.js"></script>

<script type="text/javascript">
		$(".children").click(function(){
			$(this).parent().parent().parent().parent().find(".father").prop("checked", true);
		})
		$(".father").click(function(){
			if(this.checked){
				$(this).parent().parent().parent().parent().find(".children").prop("checked", true);
			}else{
				$(this).parent().parent().parent().parent().find(".children").prop("checked", false);
			}
		})
		$(".btn-info").click(function(){
			var title = $("#title").val();
			if(title==''){
				bootbox.dialog({
					message: "用户组名称不能为空。", 
					buttons: {
						"success" : {
							"label" : "确定",
							"className" : "btn-danger"
						}
					}
				});
				return;
			}
			$("#form").submit();
		})
		</script>